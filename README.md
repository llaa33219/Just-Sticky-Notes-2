# π—’οΈ Just Sticky Notes

μ‹¤μ‹κ°„ μ¤ν‹°ν‚¤ λ…ΈνΈ μ»¤λ®¤λ‹ν‹° μ‚¬μ΄νΈμ…λ‹λ‹¤. λ‚λ¬΄ λ°°κ²½μ λ¬΄ν• μΊ”λ²„μ¤μ— μ¤ν‹°ν‚¤ λ…ΈνΈλ¥Ό λ¶™μ΄λ©° λ‹¤λ¥Έ μ‚¬μ©μλ“¤κ³Ό μ‹¤μ‹κ°„μΌλ΅ μ†ν†µν•  μ μμµλ‹λ‹¤.

## β¨ νΉμ§•

- π³ **λ‚λ¬΄ λ°°κ²½ λ¬΄ν• μΊ”λ²„μ¤**: μ ν• μ—†λ” κ³µκ°„μ—μ„ μμ λ΅­κ² λ…ΈνΈ μ‘μ„±
- π¨ **μ†κΈ€μ”¨ μ¤νƒ€μΌ**: Caveat ν°νΈμ™€ κ·Έλ¦¬κΈ° κΈ°λ¥μΌλ΅ μμ—°μ¤λ¬μ΄ λλ‚
- β΅ **μ‹¤μ‹κ°„ λ™κΈ°ν™”**: WebSocketμ„ ν†µν• μ‹¤μ‹κ°„ λ…ΈνΈ κ³µμ 
- π” **κµ¬κΈ€ λ΅κ·ΈμΈ**: κ°„νΈν• OAuth μΈμ¦
- π― **μ§κ΄€μ μΈ λ„κµ¬**: μ΄λ™ λ„κµ¬μ™€ λ…ΈνΈ μƒμ„± λ„κµ¬
- π¨ **λ‹¤μ–‘ν• μƒ‰μƒ**: 6κ°€μ§€ μ¤ν‹°ν‚¤ λ…ΈνΈ μƒ‰μƒ μ„ νƒ
- βοΈ **κ·Έλ¦¬κΈ° κΈ°λ¥**: ν, λ°‘μ¤„, λ™κ·ΈλΌλ―Έ λ“± κ·Έλ¦¬κΈ° λ„κµ¬
- π“± **λ°μ‘ν• λ””μμΈ**: λ¨λ°”μΌκ³Ό λ°μ¤ν¬ν†± μ§€μ›

## π› οΈ κΈ°μ  μ¤νƒ

- **Frontend**: Vanilla JavaScript, CSS3, HTML5
- **Backend**: Cloudflare Workers
- **Storage**: Cloudflare R2
- **Real-time**: WebSocket API
- **Deployment**: Cloudflare Pages + Workers

## π€ λΉ λ¥Έ μ‹μ‘

### 1. ν”„λ΅μ νΈ ν΄λ΅  λ° μ„¤μ •

```bash
git clone <repository-url>
cd just-sticky-notes
npm install
```

### 2. Cloudflare κ³„μ • μ„¤μ •

1. [Cloudflare λ€μ‹λ³΄λ“](https://dash.cloudflare.com)μ— λ΅κ·ΈμΈ
2. Workers & Pages μ„Ήμ…μΌλ΅ μ΄λ™
3. API ν† ν° μƒμ„± (κ¶ν•: Zone:Read, Account:Edit)

### 3. Wrangler λ΅κ·ΈμΈ

```bash
npx wrangler login
```

### 4. R2 λ²„ν‚· μƒμ„±

**μƒμ„±ν•  λ²„ν‚· μ΄λ¦„:**
- `just-sticky-notes-storage` (λ©”μΈ λ²„ν‚·)
- `just-sticky-notes-storage-preview` (λ―Έλ¦¬λ³΄κΈ° λ²„ν‚·)

```bash
# μλ™μΌλ΅ λ²„ν‚· μƒμ„± λ° μ •μ  νμΌ μ—…λ΅λ“
npm run setup
```

λλ” μλ™μΌλ΅:

```bash
# λ²„ν‚· μƒμ„±
npm run create-bucket
npm run create-preview-bucket

# μ •μ  νμΌ μ—…λ΅λ“
npm run upload-static
```

### 5. κ°λ° μ„λ²„ μ‹¤ν–‰

```bash
npm run dev
```

### 6. λ°°ν¬

```bash
# μ¤ν…μ΄μ§• ν™κ²½
npm run deploy:staging

# ν”„λ΅λ•μ… ν™κ²½  
npm run deploy:production
```

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
just-sticky-notes/
β”β”€β”€ index.html          # λ©”μΈ HTML νμΌ
β”β”€β”€ styles.css          # μ¤νƒ€μΌμ‹νΈ
β”β”€β”€ app.js              # ν΄λΌμ΄μ–ΈνΈ JavaScript
β”β”€β”€ _worker.js          # Cloudflare Worker (λ°±μ—”λ“)
β”β”€β”€ wrangler.toml       # Cloudflare μ„¤μ •
β”β”€β”€ package.json        # ν”„λ΅μ νΈ μ„¤μ •
β””β”€β”€ README.md           # ν”„λ΅μ νΈ λ¬Έμ„
```

## π® μ‚¬μ©λ²•

### λ΅κ·ΈμΈ
1. νμ΄μ§€μ— μ ‘μ†ν•λ©΄ λ‚λ¬΄ λ°°κ²½μ— κµ¬κΈ€ μ•„μ΄μ½μ΄ μλ” μ¤ν‹°ν‚¤ λ…ΈνΈκ°€ ν‘μ‹λ©λ‹λ‹¤
2. μ¤ν‹°ν‚¤ λ…ΈνΈλ¥Ό ν΄λ¦­ν•λ©΄ λ–¨μ–΄μ§€λ” μ• λ‹λ©”μ΄μ…κ³Ό ν•¨κ» κµ¬κΈ€ λ΅κ·ΈμΈμ΄ μ§„ν–‰λ©λ‹λ‹¤

### λ„κµ¬ μ‚¬μ©λ²•
- **μ΄λ™ λ„κµ¬** (κΈ°λ³Έ): μΊ”λ²„μ¤λ¥Ό λ“λκ·Έν•μ—¬ μ΄λ™, λ§μ°μ¤ ν λ΅ μ¤ μΈ/μ•„μ›ƒ
- **λ…ΈνΈ μƒμ„± λ„κµ¬**: μΊ”λ²„μ¤λ¥Ό ν΄λ¦­ν•μ—¬ μƒ μ¤ν‹°ν‚¤ λ…ΈνΈ μ‘μ„±

### λ…ΈνΈ μ‘μ„±
1. λ…ΈνΈ μƒμ„± λ„κµ¬ μ„ νƒ ν›„ μΊ”λ²„μ¤ ν΄λ¦­
2. λ¨λ‹¬μ—μ„ μƒ‰μƒ μ„ νƒ (6κ°€μ§€ μƒ‰μƒ)
3. ν…μ¤νΈ μ…λ ¥ (μµλ€ 500μ)
4. κ·Έλ¦¬κΈ° λ„κµ¬λ΅ κ·Έλ¦Ό μ¶”κ°€ (ν, λ°‘μ¤„, λ™κ·ΈλΌλ―Έ)
5. μ €μ¥ λ²„νΌμΌλ΅ λ…ΈνΈ κ²μ‹

### ν‚¤λ³΄λ“ λ‹¨μ¶•ν‚¤
- `Space`: λ„κµ¬ μ „ν™ (μ΄λ™ β†” λ…ΈνΈ μƒμ„±)
- `Escape`: λ…ΈνΈ μ—λ””ν„° λ‹«κΈ°
- `Ctrl + +/-`: μ¤ μΈ/μ•„μ›ƒ

## π”§ ν™κ²½ λ³€μ

`wrangler.toml`μ—μ„ μ„¤μ •:

```toml
[vars]
ENVIRONMENT = "production"
MAX_NOTES_PER_USER = "50"      # μ‚¬μ©μλ‹Ή μµλ€ λ…ΈνΈ μ
MAX_TOTAL_NOTES = "1000"       # μ „μ²΄ μµλ€ λ…ΈνΈ μ
```

## π“ API μ—”λ“ν¬μΈνΈ

### REST API
- `GET /api/notes` - λ¨λ“  λ…ΈνΈ μ΅°ν
- `GET /api/health` - μ„λ²„ μƒνƒ ν™•μΈ

### WebSocket
- `ws://your-domain.com/ws` - μ‹¤μ‹κ°„ μ—°κ²°
- λ©”μ‹μ§€ νƒ€μ…: `auth`, `create_note`, `load_notes`, `ping`

## π—„οΈ λ°μ΄ν„° κµ¬μ΅°

### μ¤ν‹°ν‚¤ λ…ΈνΈ
```javascript
{
  id: "note_timestamp_randomid",
  text: "λ…ΈνΈ λ‚΄μ©",
  drawing: "data:image/png;base64,κ·Έλ¦¬κΈ°λ°μ΄ν„°",
  color: "#FFEB3B",
  x: 100,
  y: 200,
  author: "μ‚¬μ©μλ…",
  authorId: "user_id",
  timestamp: 1640995200000,
  rotation: -2.5
}
```

## π”’ λ³΄μ•

- CORS ν—¤λ” μ„¤μ •μΌλ΅ ν¬λ΅μ¤ μ¤λ¦¬μ§„ μ”μ²­ μ μ–΄
- WebSocket μΈμ¦ λ©”μ»¤λ‹μ¦
- λ…ΈνΈ μ μ ν•μΌλ΅ μ¤νΈ λ°©μ§€
- μλ™ ν΄λΌμ΄μ–ΈνΈ μ •λ¦¬λ΅ λ©”λ¨λ¦¬ κ΄€λ¦¬

## π¨ λ¬Έμ  ν•΄κ²°

### μΌλ°μ μΈ λ¬Έμ 

1. **WebSocket μ—°κ²° μ‹¤ν¨**
   - λΈλΌμ°μ €κ°€ WebSocketμ„ μ§€μ›ν•λ”μ§€ ν™•μΈ
   - HTTPS ν™κ²½μ—μ„λ” WSS ν”„λ΅ν† μ½ μ‚¬μ© ν•„μ”

2. **λ…ΈνΈκ°€ μ €μ¥λμ§€ μ•μ**
   - R2 λ²„ν‚· κ¶ν• ν™•μΈ
   - Worker λ΅κ·Έ ν™•μΈ: `npm run tail`

3. **μ¤νƒ€μΌμ΄ μ μ©λμ§€ μ•μ**
   - μ •μ  νμΌμ΄ R2μ— μ—…λ΅λ“λμ—λ”μ§€ ν™•μΈ
   - μΊμ‹ ν΄λ¦¬μ–΄ ν›„ μ¬μ‹λ„

### λ””λ²„κΉ…

```bash
# Worker λ΅κ·Έ μ‹¤μ‹κ°„ ν™•μΈ
npm run tail

# λ΅μ»¬ κ°λ° ν™κ²½
npm run dev
```

## π“ μ„±λ¥ μµμ ν™”

- μ¤ν‹°ν‚¤ λ…ΈνΈ μµλ€ 1000κ° μ ν•
- 30λ¶„ μ΄μƒ λΉ„ν™μ„± ν΄λΌμ΄μ–ΈνΈ μλ™ μ •λ¦¬
- R2 μΊμ‹ ν—¤λ” μ„¤μ • (1μ‹κ°„)
- μ΄λ―Έμ§€ μµμ ν™” (Canvas toDataURL)

## π¤ κΈ°μ—¬ν•κΈ°

1. μ΄μ μƒμ„±
2. κΈ°λ¥ λΈλμΉ μƒμ„±
3. μ»¤λ°‹ λ° ν‘Έμ‹
4. Pull Request μƒμ„±

## π“„ λΌμ΄μ„ μ¤

MIT License

## π”— κ΄€λ ¨ λ§ν¬

- [Cloudflare Workers λ¬Έμ„](https://developers.cloudflare.com/workers/)
- [Cloudflare R2 λ¬Έμ„](https://developers.cloudflare.com/r2/)
- [WebSocket API λ¬Έμ„](https://developer.mozilla.org/en-US/docs/Web/API/WebSocket)

---

β­ μ΄ ν”„λ΅μ νΈκ°€ λ„μ›€μ΄ λμ…¨λ‹¤λ©΄ μ¤νƒ€λ¥Ό λλ¬μ£Όμ„Έμ”! 