# Just Sticky Notes π“

μ‹¤μ‹κ°„ μ¤ν‹°ν‚¤ λ…ΈνΈ μ»¤λ®¤λ‹ν‹° μ‚¬μ΄νΈμ…λ‹λ‹¤. λ‚λ¬΄ λ°°κ²½μ λ¬΄ν• μΊ”λ²„μ¤μ—μ„ λ‹¤λ¥Έ μ‚¬μ©μλ“¤κ³Ό ν•¨κ» μ¤ν‹°ν‚¤ λ…ΈνΈλ¥Ό κ³µμ ν•  μ μμµλ‹λ‹¤.

## β¨ μ£Όμ” κΈ°λ¥

### π¨ **μ‚¬μ©μ κ²½ν—**
- **λ‚λ¬΄ ν…μ¤μ² λ°°κ²½**: λ”°λ»ν• λ‚λ¬΄ λ°°κ²½μ λ¬΄ν• μΊ”λ²„μ¤
- **κµ¬κΈ€ λ΅κ·ΈμΈ**: λ–¨μ–΄μ§€λ” μ• λ‹λ©”μ΄μ…μ΄ μλ” μ¤ν‹°ν‚¤ λ…ΈνΈλ΅ λ΅κ·ΈμΈ
- **handwriting ν°νΈ**: μ†κΈ€μ”¨ λλ‚μ Caveat, Kalam ν°νΈ μ‚¬μ©
- **6κ°€μ§€ μ¤ν‹°ν‚¤ λ…ΈνΈ μƒ‰μƒ**: λ…Έλ€μƒ‰, μ£Όν™©μƒ‰, λ¶„ν™μƒ‰, λ³΄λΌμƒ‰, νλ€μƒ‰, μ΄λ΅μƒ‰

### π› οΈ **λ„κµ¬ λ° κΈ°λ¥**
- **μ΄λ™ λ„κµ¬**: μΊ”λ²„μ¤ ν¬/μ¤ (λ§μ°μ¤ ν , λ“λκ·Έ)
- **μ¤ν‹°ν‚¤ λ…ΈνΈ μƒμ„±**: ν…μ¤νΈ + κ·Έλ¦¬κΈ°κ°€ ν†µν•©λ μΊ”λ²„μ¤
- **κ·Έλ¦¬κΈ° λ„κµ¬**: ν, λ°‘μ¤„, λ™κ·ΈλΌλ―Έ, μ§€μ°κΈ°
- **μ‹¤μ‹κ°„ λ“λκ·Έ**: λ‚΄κ°€ λ§λ“  λ…ΈνΈλ¥Ό λ“λκ·Έν•΄μ„ μ΄λ™ κ°€λ¥
- **ν‚¤λ³΄λ“ λ‹¨μ¶•ν‚¤**: `M` (μ΄λ™), `N` (λ…ΈνΈ μƒμ„±), `+/-` (μ¤)

### π **μ‹¤μ‹κ°„ κΈ°λ¥**
- **WebSocket μ‹¤μ‹κ°„ ν†µμ‹ **: μ¦‰μ‹ λ™κΈ°ν™”
- **μ‚¬μ©μ μ…μ¥/ν‡΄μ¥ μ•λ¦Ό**: μ‹¤μ‹κ°„ μ°Έμ—¬μ ν™•μΈ
- **μλ™ μ¬μ—°κ²°**: 30μ΄ heartbeat + νμ΄μ§€ ν¬μ»¤μ¤ μ‹ μ¬λ™κΈ°ν™”
- **μ—°κ²° μƒνƒ ν‘μ‹**: μƒνƒλ°”μ— μ—°κ²° μƒνƒ ν‘μ‹

## π—οΈ κΈ°μ  μ¤νƒ

### **Frontend**
- **Vanilla JavaScript**: ν”„λ μ„μ›ν¬ μ—†λ” μμ JS
- **CSS3**: μ• λ‹λ©”μ΄μ…, Grid/Flexbox, λ°μ‘ν• λ””μμΈ
- **HTML5 Canvas**: κ·Έλ¦¬κΈ° κΈ°λ¥
- **Google Fonts**: Caveat, Kalam μ†κΈ€μ”¨ ν°νΈ

### **Backend** 
- **Cloudflare Pages**: μ •μ  νμΌ νΈμ¤ν…
- **Cloudflare Functions**: μ„λ²„λ¦¬μ¤ API
- **WebSocket API**: μ‹¤μ‹κ°„ ν†µμ‹ 
- **R2 Object Storage**: μ¤ν‹°ν‚¤ λ…ΈνΈ λ°μ΄ν„° μ €μ¥

### **λ°°ν¬ λ° μΈν”„λΌ**
- **Cloudflare Pages**: μλ™ λ°°ν¬ λ° CDN
- **R2 Bucket**: `STICKY_NOTES_BUCKET` ν™κ²½ λ³€μλ΅ μ„¤μ •
- **λ¬΄λ£ ν‹°μ–΄**: Cloudflare λ¬΄λ£ κ³„μ •μΌλ΅ μ΄μ κ°€λ¥

## π€ λ°°ν¬ν•κΈ°

### 1. **μ €μ¥μ† μ¤€λΉ„**
```bash
git clone <your-repo>
cd just-sticky-notes
```

### 2. **Cloudflare Pages λ°°ν¬**
1. [Cloudflare λ€μ‹λ³΄λ“](https://dash.cloudflare.com)μ—μ„ Pages μ„ νƒ
2. "Create a project" β†’ "Connect to Git" 
3. μ €μ¥μ† μ„ νƒ ν›„ λ‹¤μ μ„¤μ •:
   - **Production branch**: `main`
   - **Build command**: `npm run build`
   - **Build output directory**: `/` (λ£¨νΈ)
   - **Root directory**: `/` (λ£¨νΈ)

### 3. **R2 Bucket μ„¤μ •**
1. Cloudflare λ€μ‹λ³΄λ“μ—μ„ R2 β†’ "Create bucket"
2. Bucket μ΄λ¦„: `just-sticky-notes-storage` (λλ” μ›ν•λ” μ΄λ¦„)
3. Pages ν”„λ΅μ νΈ β†’ Settings β†’ Functions β†’ "R2 bucket bindings"
4. λ°”μΈλ”© μ¶”κ°€:
   - **Variable name**: `STICKY_NOTES_BUCKET`
   - **R2 bucket**: μ„μ—μ„ μƒμ„±ν• bucket μ„ νƒ

### 4. **λ°°ν¬ ν™•μΈ**
- `https://your-project-name.pages.dev`μ—μ„ μ‚¬μ΄νΈ ν™•μΈ
- `/api/health`μ—μ„ API μƒνƒ ν™•μΈ
- `/api/debug`μ—μ„ R2 μ—°κ²° μƒνƒ ν™•μΈ

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
just-sticky-notes/
β”β”€β”€ index.html              # λ©”μΈ HTML νμΌ
β”β”€β”€ styles.css              # μ¤νƒ€μΌμ‹νΈ
β”β”€β”€ app.js                  # ν΄λΌμ΄μ–ΈνΈ JavaScript
β”β”€β”€ favicon.ico             # νλΉ„μ½
β”β”€β”€ _routes                 # Pages Functions λΌμ°ν… μ„¤μ •
β”β”€β”€ functions/              # Cloudflare Functions
β”‚   β”β”€β”€ ws.js              # WebSocket μ²λ¦¬ (/ws)
β”‚   β””β”€β”€ api/               # API μ—”λ“ν¬μΈνΈλ“¤
β”‚       β”β”€β”€ notes.js       # λ…ΈνΈ API (/api/notes)
β”‚       β”β”€β”€ health.js      # ν—¬μ¤μ²΄ν¬ (/api/health)
β”‚       β””β”€β”€ debug.js       # λ””λ²„κ·Έ μ •λ³΄ (/api/debug)
β”β”€β”€ package.json           # ν”„λ΅μ νΈ μ„¤μ •
β”β”€β”€ README.md             # μ΄ νμΌ
β””β”€β”€ .gitignore            # Git μ μ™Έ νμΌλ“¤
```

## π”§ API μ—”λ“ν¬μΈνΈ

### **REST API**
- `GET /api/notes`: λ¨λ“  μ¤ν‹°ν‚¤ λ…ΈνΈ μ΅°ν
- `GET /api/health`: μ„λ²„ μƒνƒ ν™•μΈ
- `GET /api/debug`: λ””λ²„κ·Έ μ •λ³΄ (R2 μ—°κ²° μƒνƒ λ“±)

### **WebSocket** (`/ws`)
```javascript
// μ—°κ²°
const ws = new WebSocket('wss://your-site.pages.dev/ws');

// λ©”μ‹μ§€ νƒ€μ…λ“¤
{
  type: 'auth',           // μ‚¬μ©μ μΈμ¦
  type: 'load_notes',     // λ…ΈνΈ λ΅λ“ μ”μ²­
  type: 'create_note',    // μƒ λ…ΈνΈ μƒμ„±
  type: 'update_note',    // λ…ΈνΈ μ„μΉ μ—…λ°μ΄νΈ  
  type: 'delete_note',    // λ…ΈνΈ μ‚­μ 
  type: 'sync_request',   // λ™κΈ°ν™” μ”μ²­
  type: 'ping'            // μ—°κ²° μƒνƒ ν™•μΈ
}
```

## π® μ‚¬μ©λ²•

### **κΈ°λ³Έ μ΅°μ‘**
1. **λ΅κ·ΈμΈ**: κµ¬κΈ€ μ¤ν‹°ν‚¤ λ…ΈνΈ ν΄λ¦­ (λ°λ¨ λ¨λ“)
2. **μ΄λ™**: `M` ν‚¤ λλ” μ΄λ™ λ„κµ¬ μ„ νƒ ν›„ μΊ”λ²„μ¤ λ“λκ·Έ
3. **μ¤**: λ§μ°μ¤ ν  λλ” `+`/`-` ν‚¤
4. **λ…ΈνΈ μƒμ„±**: `N` ν‚¤ λλ” λ…ΈνΈ λ„κµ¬ μ„ νƒ ν›„ μΊ”λ²„μ¤ ν΄λ¦­

### **λ…ΈνΈ νΈμ§‘**
1. **μƒ‰μƒ μ„ νƒ**: 6κ°€μ§€ μƒ‰μƒ μ¤‘ μ„ νƒ
2. **ν…μ¤νΈ μ…λ ¥**: ν¬λ… ν…μ¤νΈ μμ—­μ— κΈ€ μ‘μ„±
3. **κ·Έλ¦¬κΈ°**: ν/λ°‘μ¤„/λ™κ·ΈλΌλ―Έ λ„κµ¬λ΅ κ·Έλ¦¬κΈ°
4. **μ €μ¥**: "λ¶™μ΄κΈ°" λ²„νΌμΌλ΅ μΊ”λ²„μ¤μ— μ¶”κ°€

### **μ‹¤μ‹κ°„ ν‘μ—…**
- **λ‹¤λ¥Έ μ‚¬μ©μ λ…ΈνΈ**: μ‹¤μ‹κ°„μΌλ΅ λ‚νƒ€λ‚¨
- **λ‚΄ λ…ΈνΈ μ΄λ™**: λ“λκ·Έν•΄μ„ μ„μΉ λ³€κ²½ κ°€λ¥ (λ‹¤λ¥Έ μ‚¬μ©μμ—κ²λ„ μ‹¤μ‹κ°„ λ°μ)
- **μλ™ λ™κΈ°ν™”**: νμ΄μ§€ ν¬μ»¤μ¤ μ‹ μλ™μΌλ΅ μµμ‹  μƒνƒ λ™κΈ°ν™”

## β΅ μ„±λ¥ μµμ ν™”

- **requestAnimationFrame**: λ¶€λ“λ¬μ΄ λ“λκ·Έ μ• λ‹λ©”μ΄μ…
- **WebSocket μ—°κ²° κ΄€λ¦¬**: μλ™ μ¬μ—°κ²° + heartbeat
- **λ°μ΄ν„° μ ν•**: μµλ€ 1000κ° λ…ΈνΈ, 500μ μ ν•
- **ν΄λΌμ΄μ–ΈνΈ μ •λ¦¬**: 30λ¶„ λΉ„ν™μ„± ν΄λΌμ΄μ–ΈνΈ μλ™ μ •λ¦¬

## π”’ λ³΄μ•

- **CORS μ„¤μ •**: μ μ ν• CORS ν—¤λ”
- **μ…λ ¥ κ²€μ¦**: ν…μ¤νΈ κΈΈμ΄ λ° ν•μ‹ κ²€μ¦
- **μ—λ¬ μ²λ¦¬**: ν¬κ΄„μ μΈ μ—λ¬ ν•Έλ“¤λ§

## π“ λ¨λ‹ν„°λ§

- **ν—¬μ¤μ²΄ν¬**: `/api/health`λ΅ μ„λ²„ μƒνƒ ν™•μΈ
- **λ””λ²„κ·Έ μ •λ³΄**: `/api/debug`λ΅ μƒμ„Έ μ •λ³΄ ν™•μΈ
- **μ‹¤μ‹κ°„ λ΅κ·Έ**: Cloudflare λ€μ‹λ³΄λ“μ—μ„ ν•¨μ λ΅κ·Έ ν™•μΈ

## π¤ κΈ°μ—¬ν•κΈ°

1. μ €μ¥μ† Fork
2. κΈ°λ¥ λΈλμΉ μƒμ„± (`git checkout -b feature/AmazingFeature`)
3. λ³€κ²½μ‚¬ν•­ μ»¤λ°‹ (`git commit -m 'Add some AmazingFeature'`)
4. λΈλμΉμ— Push (`git push origin feature/AmazingFeature`)
5. Pull Request μƒμ„±

## π“„ λΌμ΄μ„ μ¤

MIT License - μμ„Έν• λ‚΄μ©μ€ [LICENSE](LICENSE) νμΌμ„ μ°Έμ΅°ν•μ„Έμ”.

---

### π― **Just Sticky Notes** - *ν•¨κ» λ§λ“λ” λ””μ§€ν„Έ λ©”λ¨μ¥* π“β¨ 